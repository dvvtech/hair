<!doctype html>
<html lang="ru" class="h-full">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>HairTryOn — Pro+</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: { container: { center: true, padding: '1rem' } }
    }
  </script>
  <style type="text/tailwindcss">
    @layer base {
      html { @apply antialiased; }
      h1 { @apply text-2xl md:text-3xl font-semibold tracking-tight; }
      h2 { @apply text-xl md:text-2xl font-semibold tracking-tight; }
      h3 { @apply text-lg font-semibold; }
      body { @apply bg-neutral-50 text-neutral-900 dark:bg-neutral-900 dark:text-neutral-100; }
    }
    @layer components {
      .card { @apply bg-white/70 dark:bg-white/5 backdrop-blur border border-black/10 dark:border-white/10 shadow-sm rounded-2xl; }
      .section { @apply card p-4 md:p-6; }
      .btn { @apply inline-flex items-center justify-center gap-2 rounded-xl px-4 py-2 border border-black/10 dark:border-white/10 shadow-sm transition active:scale-[0.98] hover:shadow; }
      .toolbar { @apply flex items-center gap-2; }
      .field { @apply flex flex-col gap-2; }
      .thumb { @apply w-full aspect-square object-cover rounded-xl border border-black/10 dark:border-white/10; }
      .pill { @apply inline-flex items-center gap-2 border border-black/10 dark:border-white/10 rounded-full px-3 py-1 text-sm; }
      .grid-auto { @apply grid gap-3 sm:grid-cols-2 lg:grid-cols-3; }
      .divider { @apply h-px bg-black/10 dark:bg-white/10 my-4; }
      .tablink { @apply inline-flex items-center gap-2 px-2 py-1 rounded-lg hover:bg-black/5 dark:hover:bg-white/10; }
      .tablink-active { @apply bg-black/5 dark:bg-white/10; }
    }
    @layer utilities {
      .safe-top { padding-top: env(safe-area-inset-top); }
      .safe-bottom { padding-bottom: env(safe-area-inset-bottom); }
      .animate-in { animation: fade-in .25s ease-out both; }
      @keyframes fade-in { from { opacity: 0; transform: translateY(4px); } to { opacity: 1; transform: none; } }
    }
  </style>
</head>
<body class="min-h-screen flex flex-col">
  <!-- Sticky header -->
  <header class="sticky top-0 z-40 bg-white/80 dark:bg-neutral-900/80 backdrop-blur border-b border-black/10 dark:border-white/10 safe-top">
    <div class="container h-14 flex items-center justify-between">
      <a href="#/home" class="font-medium">HairTryOn</a>
      <nav class="hidden md:flex items-center gap-2 text-sm">
        <a class="tablink" data-nav="/home" href="#/home">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M3 10.5 12 3l9 7.5V20a1 1 0 0 1-1 1h-5v-6H9v6H4a1 1 0 0 1-1-1v-9.5Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
          Главная</a>
        <a class="tablink" data-nav="/try-on" href="#/try-on">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M4 7s3-3 8-3 8 3 8 3-1 5-8 5-8-5-8-5Zm0 0v10a2 2 0 0 0 2 2h5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
          Примерка</a>
        <a class="tablink" data-nav="/history" href="#/history">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M3 12a9 9 0 1 1 3 6.7M3 12H1m2 0 2-2m-2 2 2 2M12 7v5l3 3" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
          История</a>
        <a class="tablink" data-nav="/profile" href="#/profile">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M12 12a5 5 0 1 0-5-5 5 5 0 0 0 5 5Zm7 9a7 7 0 0 0-14 0" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
          Профиль</a>
      </nav>
      <div class="toolbar">
        <button id="themeToggle" class="btn" title="Тема">
          <svg id="iconSun" width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M12 4V2M12 22v-2M4.93 4.93 3.52 3.52M20.48 20.48l-1.41-1.41M4 12H2m20 0h-2M4.93 19.07 3.52 20.48M20.48 3.52l-1.41 1.41M12 8a4 4 0 1 1 0 8 4 4 0 0 1 0-8Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/></svg>
          <svg id="iconMoon" class="hidden" width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M21 12.8A9 9 0 1 1 11.2 3 7 7 0 0 0 21 12.8Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/></svg>
        </button>
        <div id="authArea" class="toolbar"></div>
      </div>
    </div>
  </header>

  <!-- Mobile tabbar -->
  <nav class="md:hidden fixed bottom-0 inset-x-0 z-40 bg-white/90 dark:bg-neutral-900/90 backdrop-blur border-t border-black/10 dark:border-white/10 safe-bottom">
    <div class="container h-14 grid grid-cols-4 text-xs">
      <a href="#/home" data-nav="/home" class="flex flex-col items-center justify-center gap-1">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M3 10.5 12 3l9 7.5V20a1 1 0 0 1-1 1h-5v-6H9v6H4a1 1 0 0 1-1-1v-9.5Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
        <span>Главная</span>
      </a>
      <a href="#/try-on" data-nav="/try-on" class="flex flex-col items-center justify-center gap-1">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M4 7s3-3 8-3 8 3 8 3-1 5-8 5-8-5-8-5Zm0 0v10a2 2 0 0 0 2 2h5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
        <span>Примерка</span>
      </a>
      <a href="#/history" data-nav="/history" class="flex flex-col items-center justify-center gap-1">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M3 12a9 9 0 1 1 3 6.7M3 12H1m2 0 2-2m-2 2 2 2M12 7v5l3 3" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
        <span>История</span>
      </a>
      <a href="#/profile" data-nav="/profile" class="flex flex-col items-center justify-center gap-1">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M12 12a5 5 0 1 0-5-5 5 5 0 0 0 5 5Zm7 9a7 7 0 0 0-14 0" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
        <span>Профиль</span>
      </a>
    </div>
  </nav>

  <!-- Loader -->
  <div id="loader" class="fixed inset-0 hidden items-center justify-center bg-black/5 dark:bg-white/5 backdrop-blur-sm">
    <div class="card p-3">Загрузка…</div>
  </div>

  <!-- Content -->
  <main class="flex-1">
    <div class="container py-6 md:py-10" id="view"></div>
  </main>

  <footer class="mt-auto border-t border-black/10 dark:border-white/10 bg-white/70 dark:bg-white/5 backdrop-blur">
    <div class="container py-4 text-sm flex items-center justify-between">
      <span>© HairTryOn</span>
      <a href="#/home" class="hover:underline">О сервисе</a>
    </div>
  </footer>

  <script src="./js/auth.js"></script>
  <script src="./js/history.js"></script>
  <script src="./js/profile.js"></script>
  <script src="./js/app.js"></script>
</body>
</html>
